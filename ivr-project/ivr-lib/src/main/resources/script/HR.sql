-- Generated by Oracle SQL Developer Data Modeler 3.0.0.660.660
--   at:        2011-01-07 13:00:10 GMT
--   site:      Oracle Database 11g
--   type:      Oracle Database 11g


CREATE TABLE CAT_USUARIO 
    ( 
     USUARIO_ID VARCHAR (2 )  NOT NULL , 
     NM_USUARIO VARCHAR (40 ) , 
     AGE INT 
    )  
;

CREATE TABLE COUNTRIES 
    ( 
     COUNTRY_ID VARCHAR (2 )  NOT NULL , 
     COUNTRY_NAME VARCHAR (40 ) , 
     REGION_ID INT 
    )  
;




CREATE UNIQUE INDEX COUNTRY_C_ID_IDX ON COUNTRIES 
    ( 
     COUNTRY_ID ASC 
    ) 
;


CREATE UNIQUE INDEX CAT_USUARIO_IDX ON CAT_USUARIO 
    ( 
     USUARIO_ID ASC 
    ) 
;

ALTER TABLE COUNTRIES 
    ADD CONSTRAINT COUNTRY_C_ID_PK PRIMARY KEY ( COUNTRY_ID ) ;

    ALTER TABLE CAT_USUARIO 
    ADD CONSTRAINT USUARIO_ID_PK PRIMARY KEY ( USUARIO_ID ) ;



CREATE TABLE DEPARTMENTS 
    ( 
     DEPARTMENT_ID INT  NOT NULL , 
     DEPARTMENT_NAME VARCHAR (30 )  NOT NULL , 
     MANAGER_ID INT , 
     LOCATION_ID INT 
    )  
;






CREATE INDEX DEPT_LOCATION_IX ON DEPARTMENTS 
    ( 
     LOCATION_ID ASC 
    ) 
     
     
     
;

CREATE UNIQUE INDEX DEPT_ID_PKX ON DEPARTMENTS 
    ( 
     DEPARTMENT_ID ASC 
    ) 
;

ALTER TABLE DEPARTMENTS 
    ADD CONSTRAINT DEPT_ID_PK PRIMARY KEY ( DEPARTMENT_ID ) ;



CREATE TABLE EMPLOYEES 
    ( 
     EMPLOYEE_ID INT  NOT NULL , 
     FIRST_NAME VARCHAR (20 ) , 
     LAST_NAME VARCHAR (25 )  NOT NULL , 
     EMAIL VARCHAR (25 )  NOT NULL , 
     PHONE_INT VARCHAR (20 ) , 
     HIRE_DATE DATE  NOT NULL , 
     JOB_ID VARCHAR (10 )  NOT NULL , 
     SALARY INT , 
     COMMISSION_PCT INT , 
     MANAGER_ID INT , 
     DEPARTMENT_ID INT 
    )  
;



ALTER TABLE EMPLOYEES 
    ADD CONSTRAINT EMP_SALARY_MIN 
    CHECK ( salary > 0) 
;









CREATE INDEX EMP_DEPARTMENT_IX ON EMPLOYEES 
    ( 
     DEPARTMENT_ID ASC 
    ) 
     
     
     
;

CREATE INDEX EMP_JOB_IX ON EMPLOYEES 
    ( 
     JOB_ID ASC 
    ) 
     
     
     
;

CREATE INDEX EMP_MANAGER_IX ON EMPLOYEES 
    ( 
     MANAGER_ID ASC 
    ) 
     
     
     
;

CREATE INDEX EMP_NAME_IX ON EMPLOYEES 
    ( 
     LAST_NAME ASC , 
     FIRST_NAME ASC 
    ) 
     
     
     
;

CREATE UNIQUE INDEX EMP_EMP_ID_PKX ON EMPLOYEES 
    ( 
     EMPLOYEE_ID ASC 
    ) 
;

ALTER TABLE EMPLOYEES 
    ADD CONSTRAINT EMP_EMP_ID_PK PRIMARY KEY ( EMPLOYEE_ID ) ;

ALTER TABLE EMPLOYEES 
    ADD CONSTRAINT EMP_EMAIL_UK UNIQUE ( EMAIL ) ;



CREATE TABLE JOBS 
    ( 
     JOB_ID VARCHAR (10 )  NOT NULL , 
     JOB_TITLE VARCHAR (35 )  NOT NULL , 
     MIN_SALARY INT , 
     MAX_SALARY INT 
    )  
;


CREATE UNIQUE INDEX JOB_ID_PKX ON JOBS 
    ( 
     JOB_ID ASC 
    ) 
;

ALTER TABLE JOBS 
    ADD CONSTRAINT JOB_ID_PK PRIMARY KEY ( JOB_ID ) ;



CREATE TABLE JOB_HISTORY 
    ( 
     EMPLOYEE_ID INT  NOT NULL , 
     START_DATE DATE  NOT NULL , 
     END_DATE DATE  NOT NULL , 
     JOB_ID VARCHAR (10 )  NOT NULL , 
     DEPARTMENT_ID INT 
    )  
;



ALTER TABLE JOB_HISTORY 
    ADD CONSTRAINT JHIST_DATE_CHECK 
    CHECK (end_date > start_date)
        
         
         
;







CREATE INDEX JHIST_JOB_IX ON JOB_HISTORY 
    ( 
     JOB_ID ASC 
    ) 
     
     
     
;

CREATE INDEX JHIST_EMP_IX ON JOB_HISTORY 
    ( 
     EMPLOYEE_ID ASC 
    ) 
     
     
     
;

CREATE INDEX JHIST_DEPT_IX ON JOB_HISTORY 
    ( 
     DEPARTMENT_ID ASC 
    ) 
     
     
     
;

CREATE UNIQUE INDEX JHIST_ID_DATE_PKX ON JOB_HISTORY 
    ( 
     EMPLOYEE_ID ASC , 
     START_DATE ASC 
    ) 
;

ALTER TABLE JOB_HISTORY 
    ADD CONSTRAINT JHIST_ID_DATE_PK PRIMARY KEY ( EMPLOYEE_ID, START_DATE ) ;



CREATE TABLE LOCATIONS 
    ( 
     LOCATION_ID INT  NOT NULL , 
     STREET_ADDRESS VARCHAR (40 ) , 
     POSTAL_CODE VARCHAR (12 ) , 
     CITY VARCHAR (30 )  NOT NULL , 
     STATE_PROVINCE VARCHAR (25 ) , 
     COUNTRY_ID VARCHAR (2 ) 
    )  
;







CREATE INDEX LOC_CITY_IX ON LOCATIONS 
    ( 
     CITY ASC 
    ) 
     
     
     
;

CREATE INDEX LOC_STATE_PROV_IX ON LOCATIONS 
    ( 
     STATE_PROVINCE ASC 
    ) 
     
     
     
;

CREATE INDEX LOC_COUNTRY_IX ON LOCATIONS 
    ( 
     COUNTRY_ID ASC 
    ) 
     
     
     
;

CREATE UNIQUE INDEX LOC_ID_PKX ON LOCATIONS 
    ( 
     LOCATION_ID ASC 
    ) 
;

ALTER TABLE LOCATIONS 
    ADD CONSTRAINT LOC_ID_PK PRIMARY KEY ( LOCATION_ID ) ;



CREATE TABLE REGIONS 
    ( 
     REGION_ID INT  NOT NULL , 
     REGION_NAME VARCHAR (25 ) 
    )  
;



CREATE UNIQUE INDEX REG_ID_PKX ON REGIONS 
    ( 
     REGION_ID ASC 
    ) 
;

ALTER TABLE REGIONS 
    ADD CONSTRAINT REG_ID_PK PRIMARY KEY ( REGION_ID ) ;




ALTER TABLE COUNTRIES 
    ADD CONSTRAINT COUNTR_REG_FK FOREIGN KEY 
    ( 
     REGION_ID
    ) 
    REFERENCES REGIONS 
    ( 
     REGION_ID
    ) 
     
;



ALTER TABLE DEPARTMENTS 
    ADD CONSTRAINT DEPT_LOC_FK FOREIGN KEY 
    ( 
     LOCATION_ID
    ) 
    REFERENCES LOCATIONS 
    ( 
     LOCATION_ID
    ) 
     
;



ALTER TABLE DEPARTMENTS 
    ADD CONSTRAINT DEPT_MGR_FK FOREIGN KEY 
    ( 
     MANAGER_ID
    ) 
    REFERENCES EMPLOYEES 
    ( 
     EMPLOYEE_ID
    ) 
     
;



ALTER TABLE EMPLOYEES 
    ADD CONSTRAINT EMP_DEPT_FK FOREIGN KEY 
    ( 
     DEPARTMENT_ID
    ) 
    REFERENCES DEPARTMENTS 
    ( 
     DEPARTMENT_ID
    ) 
     
;



ALTER TABLE EMPLOYEES 
    ADD CONSTRAINT EMP_JOB_FK FOREIGN KEY 
    ( 
     JOB_ID
    ) 
    REFERENCES JOBS 
    ( 
     JOB_ID
    ) 
     
;



ALTER TABLE EMPLOYEES 
    ADD CONSTRAINT EMP_MANAGER_FK FOREIGN KEY 
    ( 
     MANAGER_ID
    ) 
    REFERENCES EMPLOYEES 
    ( 
     EMPLOYEE_ID
    ) 
     
;



ALTER TABLE JOB_HISTORY 
    ADD CONSTRAINT JHIST_DEPT_FK FOREIGN KEY 
    ( 
     DEPARTMENT_ID
    ) 
    REFERENCES DEPARTMENTS 
    ( 
     DEPARTMENT_ID
    ) 
     
;



ALTER TABLE JOB_HISTORY 
    ADD CONSTRAINT JHIST_EMP_FK FOREIGN KEY 
    ( 
     EMPLOYEE_ID
    ) 
    REFERENCES EMPLOYEES 
    ( 
     EMPLOYEE_ID
    ) 
     
;



ALTER TABLE JOB_HISTORY 
    ADD CONSTRAINT JHIST_JOB_FK FOREIGN KEY 
    ( 
     JOB_ID
    ) 
    REFERENCES JOBS 
    ( 
     JOB_ID
    ) 
     
;



ALTER TABLE LOCATIONS 
    ADD CONSTRAINT LOC_C_ID_FK FOREIGN KEY 
    ( 
     COUNTRY_ID
    ) 
    REFERENCES COUNTRIES 
    ( 
     COUNTRY_ID
    ) 
     
;













                            
